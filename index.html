<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Malla Curricular Psicología - UAT</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #ffffff;
        margin: 0;
        padding: 0;
        color: #222;
    }
    header {
        text-align: center;
        padding: 20px;
        background-color: #f5f5f5;
        border-bottom: 2px solid #ccc;
    }
    header h1 {
        margin: 0;
        font-size: 1.8em;
        color: #333;
    }
    .container {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 20px;
        padding: 20px;
    }
    .semester {
        width: 90%;
        max-width: 800px;
        background-color: #fafafa;
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 15px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }
    .semester h2 {
        text-align: center;
        background-color: #e0e0e0;
        padding: 10px;
        border-radius: 5px;
        margin-top: 0;
        color: #000;
    }
    .course {
        background-color: #f0f0f0;
        border: 1px solid #ccc;
        border-radius: 5px;
        padding: 8px;
        margin: 6px 0;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    .course.completed {
        background-color: #dcdcdc;
        text-decoration: line-through;
    }
    .course input[type="checkbox"] {
        transform: scale(1.2);
        cursor: pointer;
    }
    .credits {
        font-size: 0.9em;
        color: #555;
    }
    .total-credits {
        margin-top: 20px;
        text-align: center;
        font-weight: bold;
        color: #000;
    }
</style>
</head>
<body>
<header>
    <h1>@Nini - Malla Curricular Psicología UAT</h1>
</header>
<div class="container" id="malla">
    <!-- Ejemplo de semestre -->
    <div class="semester">
        <h2>SEMESTRE I</h2>
        <div class="course"><span>Introducción a la Psicología</span><span class="credits">6 créditos</span><input type="checkbox"></div>
        <div class="course"><span>Historia de la Psicología</span><span class="credits">4 créditos</span><input type="checkbox"></div>
    </div>
    <!-- Aquí irían SEMESTRES II al IX con el mismo formato -->
</div>
<div class="total-credits" id="total">Créditos aprobados: 0</div>
<script>
    const checkboxes = document.querySelectorAll('.course input[type="checkbox"]');
    const totalCreditsDisplay = document.getElementById('total');

    function updateCredits() {
        let total = 0;
        checkboxes.forEach(checkbox => {
            if (checkbox.checked) {
                const credits = parseInt(checkbox.parentElement.querySelector('.credits').textContent);
                total += credits;
                checkbox.parentElement.classList.add('completed');
            } else {
                checkbox.parentElement.classList.remove('completed');
            }
        });
        totalCreditsDisplay.textContent = `Créditos aprobados: ${total}`;
        localStorage.setItem('creditosNini', total);
        localStorage.setItem('estadoMateriasNini', JSON.stringify(Array.from(checkboxes).map(cb => cb.checked)));
    }

    // Cargar progreso guardado
    window.addEventListener('load', () => {
        const savedTotal = localStorage.getItem('creditosNini');
        const savedState = JSON.parse(localStorage.getItem('estadoMateriasNini'));
        if (savedTotal) {
            totalCreditsDisplay.textContent = `Créditos aprobados: ${savedTotal}`;
        }
        if (savedState) {
            savedState.forEach((checked, index) => {
                checkboxes[index].checked = checked;
                if (checked) checkboxes[index].parentElement.classList.add('completed');
            });
        }
    });

    checkboxes.forEach(cb => cb.addEventListener('change', updateCredits));
</script>
</body>
</html>
